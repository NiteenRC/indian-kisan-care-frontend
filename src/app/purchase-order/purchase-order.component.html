<div style="width: 400px;">
  <div class="form-group">
    <label for="name">Supplier</label>
    <select name="customer" class="form-control" required [(ngModel)]="purchaseOrder.supplier"
      (change)="supplierBalanceData(purchaseOrder.supplier.id)">
      <option disabled>Select Supplierr</option>
      <option [ngValue]="supplier" *ngFor="let supplier of suppliers | async">{{supplier.supplierName}}</option>
    </select>
  </div>

  <div class="form-group">
    <label for="name">Product</label>
    <select name="products" class="form-control" [(ngModel)]="product" (change)="selectedProduct(product)">
      <option disabled>Select Product</option>
      <option [ngValue]="product" *ngFor="let product of products | async">{{product.productName}}</option>
    </select>
  </div>
</div>
<div>
  <table class="table table-hover table table-bordered table-striped">
    <thead>
      <tr>
        <th>S.No</th>
        <th>Remove</th>
        <th>Product</th>
        <th>Price</th>
        <th>Qty</th>
        <th>Net Amount</th>
        <th>Tax Rate</th>
        <th>Tax Type</th>
        <th>Tax Amount</th>
        <th>Total Amout</th>
      </tr>
    </thead>
    <tr *ngFor="let cart of rows; let i = index">
      <td>{{i+1}}</td>
      <td><button (click)="removeCart(i)">X</button></td>
      <td>
        <input class="form-control" type="text" [(ngModel)]="cart.product.productName" disabled>
      </td>
      <td><input class="form-control" type="text" [(ngModel)]="cart.price" (change)="changeInQtyOrPrice()"></td>
      <td>
        <div>
          <input class="form-control" type="text" [(ngModel)]="cart.qtyOrdered" placeholder="{{cart.product.qty}}"
            (change)="changeInQtyOrPrice()">
        </div>
      </td>
      <td>
        ₹{{cart.price * cart.qtyOrdered || 0}}
      </td>
      <td>
        {{TAX_RATE}}%
      </td>
      <td>
        IGST
      </td>
      <td>
        ₹{{TAX_RATE * cart.price * cart.qtyOrdered / 100}}
      </td>
      <td>
        ₹{{cart.price*cart.qtyOrdered + (TAX_RATE * cart.price * cart.qtyOrdered/100) }}
      </td>
    </tr>
    <tr>
      <td colspan="9">Total:</td>
      <td>₹{{totalAmountToPaid().toLocaleString('en-IN')}}</td>
    </tr>
  </table>
</div>

<div style="text-align:right;">
  <div class="form-group">
    <label for="name">Amount Paid</label>
    <input type="text" id="price" required [(ngModel)]="purchaseOrder.amountPaid"
      (input)="amountToBePaid(purchaseOrder.amountPaid)" name="price">
  </div>
  <div class="form-group">
    <label for="name">Current Balance</label>
    <input type="text" id="price" [value]="currentBalance.toLocaleString('en-IN')" name="price" disabled>
  </div>
  <div class="form-group">
    <label for="name">Previous Balance</label>
    <input type="text" id="price" [value]="previousBalance.toLocaleString('en-IN')" name="price" disabled>
  </div>
  <div class="form-group">
    <label for="name">Total Pay Balance</label>
    <input type="text" id="price" [value]="totalBalance.toLocaleString('en-IN')" name="price" disabled>
  </div>
  <button type="submit" class="btn btn-success" (click)="save()" [disabled]="rows?.length === 0">Submit</button>
</div>
